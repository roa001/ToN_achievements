/* 基本 */
body{font-family:sans-serif;margin:20px}
h1{margin-bottom:10px}
.top-toggles{display:flex;gap:16px;margin:8px 0 16px}

/* 画面中央に揃える対象 */
.top-toggles,.filters,.section-title,
#gridMain,#gridFes,#gridLegacy{ /* まとめて中央寄せ */
  max-width: var(--limit-w, 1100px);
  margin-left:auto;margin-right:auto;
}

/* フィルタUI */
.filters{display:grid;gap:12px;margin:12px 0}
.filter-block{padding:10px;border:1px solid #ddd;border-radius:8px}
.filter-title{font-weight:bold;margin-bottom:6px}
.checkboxes{display:flex;flex-wrap:wrap;gap:8px}
.checkboxes label{display:inline-flex;align-items:center;gap:6px;border:1px solid #ccc;border-radius:16px;padding:4px 10px}
.filter-actions{display:flex;align-items:center;gap:12px}

.section-title{margin:16px 0 8px}
.section-title.small{font-size:1rem;opacity:.85}

/* ===== グリッド（中央寄せ & 自動列数） =====
   変数:
   --card-min : 各カードの最小幅
   --gap      : カード間の隙間
   --cols     : 最大列数（上限）
   --limit-w  : 全体の最大幅（=中央寄せの基準）
*/
:root{
  --card-min: 160px;
  --gap: 15px;
  --cols: 6;                /* ここを 5/6/7 など好みで */
  --limit-w: calc(var(--cols) * var(--card-min) + (var(--cols) - 1) * var(--gap));
}

/* グリッド */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-min), 1fr));
  gap: var(--gap);
}

/* 狭い画面での列数自動減少は上の minmax が担当。
   さらに極小端末向けに最小幅を少し下げたい時は次を調整。*/
@media (max-width: 600px){
  :root{ --card-min: 120px; }
}

.cell{position:relative;text-align:center;cursor:pointer}

/* 画像枠：太め（4px）＆固定アスペクトでチラつき防止 */
.imgwrap{position:relative;width:100%;aspect-ratio:1/1;overflow:hidden;border:6px solid #ccc;border-radius:10px}
.imgwrap img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .2s,filter .2s,border-color .2s}
.imgwrap:hover img{transform:scale(1.05)}

/* 所持/未所持の見た目（枠太めを維持） */
.owned .imgwrap{border-color:green}
.unowned .imgwrap{border-color:black}
.owned  .imgwrap img{filter:none}
.unowned .imgwrap img{filter:grayscale(100%) brightness(20%)}

/* タイトル & ツールチップ */
.title{margin-top:6px;font-size:14px;min-height:1.2em}
.tooltip{visibility:hidden;opacity:0;position:absolute;bottom:110%;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.85);color:#fff;padding:6px 10px;border-radius:6px;font-size:12px;width:220px;
  text-align:center;transition:opacity .2s;z-index:10;pointer-events:none}
.cell:hover .tooltip{visibility:visible;opacity:1}
